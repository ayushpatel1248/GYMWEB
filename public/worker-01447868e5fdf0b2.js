self.addEventListener("push",async t=>{let{message:i,body:n,icon:e}=JSON.parse(t.data.text());t.waitUntil(self.registration.showNotification(i,{body:n,icon:e}))}),self.addEventListener("notificationclick",t=>{t.notification.close(),t.waitUntil(clients.matchAll({type:"window"}).then(t=>{for(let i of t)if("/"===i.url&&"focus"in i)return i.focus();if(clients.openWindow)return clients.openWindow("/")}))});